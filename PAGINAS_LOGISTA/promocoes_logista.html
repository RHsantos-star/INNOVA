<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Promoções-INNOVA</title>

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet" />
    <!-- Estilos da página -->
    <link rel="stylesheet" href="../css/promocoes.css" />
  </head>
  <body>
   <!-- Menu de navegação -->
  <nav class="navbar navbar-expand-lg navbar-dark shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">PetAmigo</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#topNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="topNav">
        <ul class="navbar-nav ms-auto gap-lg-2">
          <li class="nav-item"><a class="nav-link" href="home_lojista.html">Relatórios</a></li>
          <li class="nav-item"><a class="nav-link" href="cadastro_produtos_logista.html">Produtos</a></li>
          <li class="nav-item"><a class="nav-link active" href="promocoes_logista.html">Promoções</a></li>
          <li class="nav-item"><a class="nav-link" href="frete_pagamento_logista.html">Pagamentos e Fretes</a></li>
          <li class="nav-item"><a class="nav-link" href="chat_logista.html">Conversas</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <main class="container my-4">

    <!-- ===================== BANNERS ===================== -->
    <section class="mb-5" aria-labelledby="titulo-banners">
      <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3">
        <h4 id="titulo-banners" class="section-title m-0">Banners</h4>
        <span class="text-muted small">Tabela: <code>Banners</code></span>
      </div>
      <div class="card shadow-sm">
        <div class="card-header bg-white"><strong>Cadastrar/Atualizar banner</strong></div>
        <div class="card-body">
          <form id="formBanner" class="row g-3" action="../php/banners.php" method="post" enctype="multipart/form-data">
            <input type="hidden" name="acao" id="acao" />
            <input type="hidden" name="id" id="idBanner" />
            <div class="col-12 col-md-4">
              <label class="form-label">Imagem do banner</label>
              <div id="previewBanner" class="banner-thumb border rounded d-flex align-items-center justify-content-center" style="min-height:160px;">
                <span class="text-muted">Prévia</span>
              </div>
              <input type="file" name="foto" class="form-control mt-2" accept="image/*" />
            </div>
            <div class="col-12 col-md-8">
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Data de validade</label>
                  <input type="date" name="data" class="form-control" />
                </div>
                <div class="col-md-6">
                  <label class="form-label">Categoria (opcional)</label>
                  <select class="form-select" name="categoriab" id="categoriaBanner"></select>
                </div>
                <div class="col-md-8">
                  <label class="form-label">Descrição</label>
                  <input type="text" name="descricao" class="form-control" maxlength="45" placeholder="Texto curto do banner" />
                </div>
                <div class="col-md-4">
                  <label class="form-label">Link</label>
                  <input type="text" name="link" class="form-control" maxlength="45" placeholder="/promo-pets" />
                </div>
              </div>
              <div class="d-flex gap-2 mt-3">
                <button type="submit" id="btnCadastrar" class="btn btn-primary">Cadastrar</button>
                <button type="button" id="btnExcluir" class="btn btn-outline-danger">Excluir</button>
              </div>
            </div>
          </form>
        </div>
        <div class="card-body border-top">
          <div class="table-responsive">
            <table class="table align-middle table-hover table-list">
              <thead class="table-light">
                <tr>
                  <th style="width:100px;">Imagem</th>
                  <th>Descrição</th>
                  <th>Validade</th>
                  <th>Categoria</th>
                  <th>Link</th>
                  <th class="text-end" style="width:170px;">Ações</th>
                </tr>
              </thead>
              <tbody id="tbBanners"></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- ===================== PROMOÇÕES EM CATEGORIAS ===================== -->
    <section class="mb-5" aria-labelledby="titulo-promocao-categoria">
      <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3">
        <h4 id="titulo-promocao-categoria" class="section-title m-0">Promoções em Categorias</h4>
        <span class="text-muted small">Tabela: <code>categorias_produtos.desconto</code></span>
      </div>
      <div class="card shadow-sm">
        <div class="card-header bg-white"><strong>Aplicar/Atualizar promoção em categoria</strong></div>
        <div class="card-body">
          <form id="formPromocaoCategoria" class="row g-3">
            <div class="col-md-6"><label class="form-label">Categoria</label><select class="form-select" id="categoriasPromocoes"></select></div>
            <div class="col-md-3"><label class="form-label">% Desconto</label><input type="number" class="form-control" min="0" max="100" step="0.01" placeholder="10"></div>
            <div class="col-md-3"><label class="form-label">Validade (visual)</label><input type="date" class="form-control"></div>
            <div class="col-12 d-flex gap-2">
              <button type="button" class="btn btn-primary" disabled>Aplicar</button>
              <button type="button" class="btn btn-outline-secondary" disabled>Editar</button>
              <button type="button" class="btn btn-outline-danger" disabled>Remover</button>
            </div>
          </form>
        </div>
        <div class="card-body border-top">
          <div class="table-responsive">
            <table class="table align-middle table-hover table-list">
              <thead class="table-light"><tr><th>Categoria</th><th>Desconto aplicado</th><th>Validade</th><th class="text-end">Ações</th></tr></thead>
              <tbody id="tbPromocaoCategoria"></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

  </main>

  <footer class="footer py-4 border-top text-center small text-muted">
    © <span id="year"></span> PetAmigo — Área de Marketing
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
  <script src="../JS/banners.js"></script>
  
  </body>
</html>
